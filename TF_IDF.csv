import pandas as pd
from sklearn.feature_extraction.text import TfidfVectorizer


data = pd.read_csv('combined_df.csv')

genre_data = data['combined_genres'].tolist()

tfidf_vectorizer = TfidfVectorizer(
    max_features=1000,  # You can adjust this based on your dataset size and requirements
    stop_words='english',  # Remove common English stop words
)

tfidf_matrix = tfidf_vectorizer.fit_transform(genre_data)

# Create a DataFrame for TF-IDF features
tfidf_df = pd.DataFrame(tfidf_matrix.toarray(), columns=tfidf_vectorizer.get_feature_names_out())

# Concatenate the TF-IDF DataFrame with the original data
result_df = pd.concat([data, tfidf_df], axis=1)
